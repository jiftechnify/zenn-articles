---
title: "『FP in Scala』読書のすゝめ ― 関数型プログラミングの「神髄」を理解するために"
emoji: "📕"
type: "idea"
topics: ["関数型プログラミング", "Scala", "書籍紹介"]
published: false
---

:::message
この記事は、[Scala Advent Calendar 2025](https://qiita.com/advent-calendar/2025/scala) の25日目の記事です。
:::

## はじめに

つよつよプログラマが「関数型プログラミングはいいぞ」と触れ回っているのを見て、なんとなく勉強してみたはいいけれど、「関数型」のやり方でプログラムを書くと何が嬉しいのか、「関数型」という考え方が結局何を目指しているのか、いまいち掴めなかった。

あるいは、「純粋関数型プログラミング言語ではモナドを使ってプログラムの副作用を記述するんだよ」という解説を見て「モナドって何だろう?」となり、インターネット上のいろいろな解説記事やら動画やらを漁ってみたけれど、分かったような分からないようなモヤモヤとした気分になった。

あるいは、関数型プログラミングの「プロ」たちの、専門用語ばかりでよく分からないけれどなんだか惹かれるものがある話を、少しでも理解できるようになりたい。

**そんなあなたに、ぜひ読んでほしい一冊があります**。

![FP in Scalaの書影](/images/why-you-should-read-fp-in-scala/fpinscala2.jpg)

こちらは『[Functional Programming in Scala](https://www.manning.com/books/functional-programming-in-scala-second-edition)』(以下『FP in Scala』と表記)という書籍で、Scalaの関数型プログラミング界隈における「聖書」ともいえる一冊となっています。 
なんだか難しそう? 安心してください。**しっかり難しいです**。それでも、あなたが関数型プログラミングのことを本当の意味で理解したいと思うのであれば、**この本を読む価値は間違いなくあります**。

本稿は、『FP in Scala』を読むことで得られるもの、筆者の考える『FP in Scala』の効果的な読み方、あるいは筆者の『FP in Scala』への愛のようなものについて述べたポエムになります。肩の力を抜いてお楽しみください。

## 『FP in Scala』はどんな本か
『FP in Scala』は、Paul Chiusano氏とRúnar Bjarnason氏によって書かれた関数型プログラミングについての書籍です。Scalaのロゴカラーである赤を基調とする書影にちなんで、特に英語圏では"The Red Book"と呼ばれ親しまれています。Scalaでの関数型プログラミングがまだ「物好きのおもちゃ遊び」[^1]にすぎなかった2014年に初版が出版されて以来、Scalaプログラマや関数型プログラミング愛好家に読みつがれ、多大な影響を与えてきました。2023年には待望の第2版が出版され、Scala 3対応や一部内容の刷新が行われました。

さて、Scalaはときに「難解な関数型言語」だと誤解されることがありますが[^2]、そんなScalaに対する印象の一つの原因にこの本があるといっても過言ではないでしょう。というのも、『FP in Scala』はScalaの高度な言語機能(特に型システム)を駆使しつつ、関数型プログラミングのアイデアをとことん深く追求していく本になっているからです。日本語で読めるScala入門書の代表格である[Scala研修テキスト](https://scala-text.github.io/scala_text/)の最初のページに、『FP in Scala』がどんな本なのかを端的に言い表した一節があるので、以下に引用します(強調は筆者による)。

> 「本文中で一から自作」というスタンスが徹底されており、型クラスのみならず、List、Stream、Futureなど、Scala標準ライブラリに存在するものまで、一から自作しています。そのため「単にパターンを覚えて使う」のではなく、それぞれの関数型の色々な型クラスやパターンが「なぜそういう仕組になっているのか？」という**根本的な考え方が分かる**ようになっています。細かいScala自体の言語仕様やテクニック、（標準ライブラリと外部のライブラリ含めた）既存の実在するライブラリの使い方は一切説明せず、**とにかく「考え方や概念」のみを重点的に説明している**ので、この本を読んで身につけた知識は古くなりにくいという点でおすすめできる一冊です。

なんだかずいぶんと骨のありそうな本だな、と感じられたかと思います。その通り、『FP in Scala』は決して簡単に読み通せるような本ではありません。しかし、**時間をかけて手を動かし、ときに苦しみながら読み進めることで得られた知識は、あなたのプログラマ人生を豊かにする一生モノの財産になります**。これは筆者の主観ですが、関数型プログラミングの「神髄」を本当の意味で理解するための道筋という意味で、**『FP in Scala』の右に出るものはありません**。その理由は、**この本の考え抜かれた構成にあります**。

[^1]: 第2版の「foreword to the second edition」の一節より。2014年当時、Scalaの関数型プログラミングエコシステムはまだまだ発展途上でした
[^2]: Scala自体はオブジェクト指向と関数型の両方をサポートするマルチパラダイム言語であり、必ずしも関数型プログラミングを強制するものではありません

## 『FP in Scala』の構成

![FP in Scalaの章立て](/images/why-you-should-read-fp-in-scala/fpinscala_chapters.png)
*『FP in Scala』の章立て*

『FP in Scala』は大きく4つのパートに分かれており、パートをまたぐたびに話のレベル(あるいは抽象度)が一段上がっていくような構成になっています。各パートの内容を筆者なりにまとめるならば以下のようになります。

### Part 1: 関数型プログラミングの基礎(基本的な考え方や概念)
まず、変数への破壊的代入やI/Oといった副作用をなるべく外側に隔離するという考え方や、式の参照透過性や関数の純粋性とは何であって、それが満たされていると何が嬉しいのかについての簡単な説明に始まり、末尾再帰・高階関数・代数的データ型(ADT)とパターンマッチング・`Option`や`Either`[^4]を用いた例外機構に頼らないエラー処理・遅延評価といった関数型プログラミングの基本テクニックが伝授されます。

第5章までの内容は、いわゆる「関数型言語」を触ったことがなくても、例えばRustやSwiftといったモダンなプログラミング言語を書いている方であれば、なんとなく知っている内容なのではないかと思います。しかし、そんな方は、第6章を読んだ瞬間脳天を撃ち抜かれたような衝撃を受けることになるでしょう。ある意味、第6章は関数型プログラミングの神髄へと至る長い旅路のはじまりともいえます。

### Part 2: 純粋関数型ライブラリのAPI設計
Part 2では、以下の3つの関数型プログラミング向けライブラリのAPI設計を考えます。

- 並列・並行処理ライブラリ
- プロパティベーステスト(PBT)ライブラリ
- パーサコンビネータライブラリ

ここでは、関数型ライブラリに通底する基本方針として、「各ライブラリの文脈におけるプログラムの最小構成要素、あるいは「計算」をデータとして表現した上で、コンビネータと呼ばれる関数を使ってそれら「計算」を繋ぎ合わせることで、大きなプログラムを構築していけるようにする」という考え方が示されます。

読者は一見無関係な3分野のライブラリAPI設計という実践を通し、その理想的な設計を突き詰めた先にある「共通パターン」を見出すことになります。さらに、それぞれのパターンが持つ、プログラム上の「意味」についての直感も得られることでしょう。それが、Part 3への壮大な布石であるとも知らずに…

### Part 3: 関数型プログラミングに共通するパターン
『FP in Scala』こそが関数型プログラミングを理解するための最良の道筋であると筆者が考える理由は、Part 3に至るまでのあまりにも鮮やかな流れにあります。

Part 1とPart 2を通して「関数型らしいAPI設計」に潜む「共通パターン」を読者に見出させた上で、このPart 3でモナドとかアプリカティブとかいうのは実はそういった「共通パターン」につけられた便宜的な名前にすぎないのだ、と説く。張りに張られた伏線が一気に回収されてゆくカタルシスがあなたを待っています。

### Part 4: 関数型の考え方を武器に、I/Oという「難敵」に立ち向かう
Part 4では、I/Oをはじめとするシステム外部との相互作用を含むプログラムを、いかに関数型プログラミングの土俵に持ち込むかについて考えていきます。端的にいえば、「副作用を認めない純粋関数しか使えないという縛りのもとで、いかにして副作用を含むプログラムを表現するか?」というパラドキシカルな問いに対する答えがここで示されます。そのアイデアは次のようなものです。

1. 外部との相互作用を純粋なデータにエンコードし、それらの合成によって作用を含む「プログラム」を組み立てられるようにする
2. データ化された各相互作用を何らかの形で[^6]実現する「インタプリタ」を別途用意する
3. 1.で組み立てた「プログラム」を2.の「インタプリタ」上で実行する

これは、[n月刊ラムダノート Vol.5, No.2(2025)](https://www.lambdanote.com/products/n-vol-5-no-2)の刊行に端を発し、この頃界隈を賑わせている Free/Freerモナドやエフェクトシステムといった仕組みの土台となっている考え方です。

その後、純粋関数型プログラミングで関数ローカルな可変状態を実現する方法や、メモリに載りきらない巨大なデータを先頭から順に少しずつ処理していく、いわゆるストリーミングI/Oを、関数型プログラミングの枠組みで合成可能な形で実現するための方法を考えたところで、『FP in Scala』という長い旅路は終わりを迎えます。

ここに出てきたさまざまなアイデアになんとなくでも心惹かれるものがあるのであれば、ぜひ『FP in Scala』を手にとってみてください。

[^4]: エラー処理の文脈では`Result`と呼ばれることが多いもの。Rust, Swift, TypeScriptあたりを書く人にはこちらの名前の方がなじみ深いかもしれません
[^5]: とはいえ、プログラムをうまく分割したり組み替えたりして効率化することを考えるにあたって、モノイドはモナドに負けず劣らず強力で便利な概念です。むしろ、モナドもアプリカティブも見かた次第ではある種のモノイドのようなものだといえるので、結局のところすべてはモノイドなのかもしれないという気持ちになります(?)
[^6]: 副作用を実行してもいいし、しなくてもいい

## 『FP in Scala』を読むべき理由
繰り返しになりますが、『FP in Scala』という本の良さは、関数型プログラミングの「神髄」、特にモナドをはじめとする関数型プログラミングの文脈で登場する抽象概念について、**豊富な具体例と演習問題を通して徹底的に理解させてくる**ことだと筆者は考えています。

巷に溢れるモナドチュートリアルには、天下り的にモナドの定義を示してから具体例を挙げていくスタイルのものが多いように思いますが、『FP in Scala』はこの点で一線を画しています。Part 1とPart 2を通して「`map`・`map2`・`flatMap`みたいな関数を生やすとどうやら便利っぽいぞ」という読者なりの直感(あるいは「モナド観」とでも呼ぶべき何か)を植えつけた上で、Part 3で「実はそれ、`Functor`・`Applicative`・`Monad`なんだよね…」という怒涛の伏線回収が行われるのです。これらの抽象概念の名前や定義ではなく、それを考えることの「嬉しさ」を先んじて身体に叩き込んでくるので、納得感が段違いなのです。

また、説明のベースになっている言語がScalaであることも嬉しいポイントだと思っています。Scalaの文法はいわゆる「C言語系」の系譜上にあり、HaskellやOCamlといった他の代表的な関数型言語に比べてとっつきやすいです。仮にScalaの文法を知らなかったとしても、普段「C言語系」の文法を持つプログラミング言語を書いている方であれば、コード例を見てなんとなく意味を取れるのではないかと思います。この意味では、『FP in Scala』は敷居が低いといえます。

## 『FP in Scala』の読み方
ここまでお読みいただいたのであれば、おそらくあなたは『FP in Scala』を読みたくなっていることでしょう。以下に、筆者が考える『FP in Scala』の効果的な読み方について述べます。

### 『FP in Scala』は何「ではない」か
…とその前に、本稿に絆されて『FP in Scala』を手に取ったはいいものの、なんか思ってたのと違った！となってしまう不幸を防ぐために、まず『FP in Scala』が何ではないのかという点に触れておきます。

まず、『FP in Scala』は**Scala言語の入門書ではありません**。関数型プログラミングの世界に足を踏み入れる前に、Scalaの基本的な文法や標準ライブラリの使い方を学ぶところから始めたいのであれば、一番の近道は[Scala研修テキスト](https://scala-text.github.io/scala_text/)になるでしょう。さらに踏み込んで、Scalaに関する網羅的な知識を身につけたいのであれば、Scalaの作者であるMartin Odersky氏の[Programming in Scala](https://www.artima.com/shop/programming_in_scala_5ed)、あるいはその邦訳である[Scalaスケーラブルプログラミング](https://www.oreilly.co.jp/books/9784873118228/)(通称: コップ本)[^10]を読むとよいでしょう。

『FP in Scala』は**Cats, Cats Effect, FS2, ZIOといった関数型プログラミングライブラリの使い方を解説するガイドブックでもありません**。これらを使いこなしてアプリケーションを作り上げられるようになるのが目標なら、[『なっとく！関数型プログラミング』](https://www.shoeisha.co.jp/book/detail/9784798179803)(原書: [Grokking Functional Programming](https://www.manning.com/books/grokking-functional-programming))が近道になるでしょう。また、特にCatsの型クラスについて深く知りたいのであれば、[『Functional Programming Strategies in Scala with Cats』](https://scala-with-cats-ja.cohotech.co/dist/scala-with-cats.html)([原書はこちら](https://scalawithcats.com/dist/scala-with-cats.html))もおすすめです。もちろん、各ライブラリの公式ドキュメントを読むのも忘れずに。
こういったライブラリを使いこなせるようになった上で、関数型プログラミングについてもっと深く知りたいと思ったその瞬間が、『FP in Scala』を読み始めるべきタイミングです。

### 初版と第2版どちらがいい?
先述の通り、『FP in Scala』には、2014年に出た初版と2023年に出た第2版がありますが、**今から読むのであれば断然第2版をおすすめします**。第2版では初版から以下の面でアップグレードが行われており、読みやすさが向上しているためです。

- コード例が全面的にScala 3で書き直されている。Scala 2ではどうしても回りくどい記述にならざるをえなかった部分が、Scala 3の新機能のおかげでシンプルな記述で済むようになっており、コードの意図が分かりやすくなった
- すべての演習問題について、丁寧な解説つきの解答が各章末に掲載されている。解答がすぐそこにあるので、難しい問題に出会っても挫折しにくくなった

### 入手方法は? 
原書は出版元の[Manning Publication](https://www.manning.com/books/functional-programming-in-scala-second-edition)のオンラインストアにて購入できます。頻繁にセールで**40%OFF**とかになっているので、そこを狙うのもよいでしょう。

日本語で読みたい方に残念なお知らせですが、まず初版の邦訳(『[Scala関数型デザイン&プログラミング](https://book.impress.co.jp/books/1114101091)』)は絶版となっており、新品の入手が難しい状況です。古本屋を漁るか、図書館を探すかしてみてください([国会図書館サーチ](https://ndlsearch.ndl.go.jp/books/R100000002-I026237611))。そして、第2版の邦訳版は本稿執筆時点では出ていません。初版が出た頃に比べてScalaの人気は落ち着いてしまったというのもあり、大人の事情で出すのが難しい、みたいなところがあるのかもしれません[^7]。ただ、『FP in Scala』の内容はScala以外の言語でのプログラミングにも間違いなく役に立つ内容だと思っていて、そんな価値のある本の最新版が日本語で読めないというのは非常に残念なことだなぁ、という心持ちです[^8] 。

### 演習問題はちゃんと解こう
『FP in Scala』を読み進めていると、たくさんの演習問題に出会うことになります。**演習問題はできる限り飛ばさずに、自分の頭で考え手を動かして解いてみることをおすすめします**。この本は、そのように読み進めてこそ最大の効果を発揮するのです。なお、第2版の場合は書籍上に解答・解説が載っているので、どうにもなりそうにない難問に出会ったらひとまず解説を見て理解を得て、先に進んでしまうのもよいでしょう。

筆者が思うに、『FP in Scala』は技術書というよりむしろ数学書に近い性格をもつ書籍です。Part 1から順に一つ一つ丁寧に学びを積み上げていくことで、最終的に関数型プログラミングという一分野のかなり深いところまでを理解できる構成になっている点や、大量の演習問題を通して読者の理解を試したり、気づきを与えようとしたりする点が、いかにも数学書らしいのです。これを踏まえると、『FP in Scala』を読むにあたって、以下に挙げるような「数学書の読み方」が参考になるのかもしれません。

- [自分のような専門外の人間が「数学書」を読む時のメモ](https://note.com/0_u0/n/n0eefe89ed5ba)
- [独学大全](https://www.diamond.co.jp/book/9784478108536.html)の「数学独学の骨法」

### 読者層別 おすすめの読み進め方
『FP in Scala』は非常にボリュームのある本です。相当なやる気とまとまった時間がなければ、第1章から第15章までを通読するのは難しいでしょう。そこで、読者層別のおすすめの読み進め方を紹介しようと思います。

#### 関数型プログラミングに初めて触れる方
まず**Part 1を読んでみてください**。それだけでも、プログラミングというものに対する見方が変わるのを実感できると思います。そうしたら、Scalaでも他の言語でもいいので、Part 1を読んで学んだことを活かしてプログラムを書き、理解を深めるとよいでしょう。その上で関数型プログラミングのことをもっと深く知りたいと思ったなら、Part 2を読み進めたり、普段づかいの言語の関数型プログラミングライブラリ(e.g. ScalaならCats)について調べてみてください。

逆にPart 1を読んで、いまいちピンとこないというか、地に足がついていないような気分になったのであれば、より実践的な関数型プログラミングの入門書である[『なっとく！関数型プログラミング』](https://www.shoeisha.co.jp/book/detail/9784798179803)を先に読んでみると幸せになれるかもしれません。『なっとく！〜』をある程度読んだ上で戻ってくると、『FP in Scala』の言いたいことが初読時よりも理解できるようになっているはずです。

#### モナドを完全に理解したい方
関数型言語や、関数型の考え方を取り入れたモダンプログラミング言語の経験がある程度あって、どこか「モナド」という言葉に心惹かれるものがあるが、インターネット上の解説をいろいろ読んでみてもいまいち理解できた感じがしない。そんな方は、**Part 1を拾い読み → Part 2の面白そうな章を1つ以上 → Part 3**という流れで読んでみてください。なお、Part 2のどの章を読むのか迷うのであれば、**第9章**(パーサコンビネータ)がおすすめです[^9]。モナドのことを理解したいからといって、いきなりモナドの説明が書かれている第11章から読み始めるのは得策ではありません。Part 1から地道に積み上げながら読み進めることで、Part 3(第11章)で訪れるカタルシスが最大化されるのです。急がば回れということです。

#### 関数型エフェクトライブラリ(Cats Effect, ZIO, Effect.tsなど)の基礎となっているアイデアに興味がある方
すでにこういった関数型エフェクトライブラリを使ってバリバリアプリケーションを書いている方で、そういったライブラリの根底にある考え方についてもっと深く知りたいという方にも、『FP in Scala』はお勧めできる一冊です。このような方は、**第7章 → Part 3を拾い読みしつつ Part 4**と読み進めるのがよいでしょう。Part 4だけ読むのでもよいですが、第7章を読んで関数型プログラミングにおける並列・並行処理の表現について思いを馳せた上で先に進むと、より深い理解に至れるのではないかと思います。

[^7]: 2023年に『なっとく！関数型プログラミング』が出せるのなら、『FP in Scala』もなんとでもなりそうな感はありますが…
[^8]: 関数型プログラミングにまつわる耳慣れない考え方や概念について、母国語でない言語で書かれた記述を読んで理解するという行為は、並大抵の覚悟で成し遂げられるものではないでしょう。機械翻訳の精度も年々上がってきているとはいえ、特に専門用語を含む高度な文章を引っかかることなく読めるレベルには達し切れていない印象で、こういった専門書の邦訳を出すことの意義はまだ薄れていないと考えます。何かのきっかけで『FP in Scala』第2版の邦訳版を出そうという動きが出てくるのであれば、筆者にできることであれば何でもする覚悟でいます
[^9]: 文脈依存言語と文脈自由言語の違いが、モナドとアプリカティブの違いと綺麗に対応していて面白いので
[^10]: 原書の最新版である第5版でScala 3に対応していますが、これもまた邦訳が現状存在しません(邦訳が出ている最新版は第4版)。Scala 3について日本語で読める書籍、少なすぎ…?

## おわりに
『FP in Scala』を読んでみて、はじめてモナドのことを本当の意味で「わかった」と思えるようになったというのは、紛れもない筆者の実体験です。この本を読む前の筆者と同じような思いを抱いている方に、『FP in Scala』の良さ、読むべき理由が少しでも伝わって、この本を手にとってみたいと思っていただけたのであれば、それ以上に嬉しいことはありません。

*** 

本稿は、先日開催された[Scalaわいわい勉強会 #6](https://scala-tokyo.connpass.com/event/371493/)で話しきれなかった内容を再編集したものです。この勉強会の主催母体である[Scalaわいわいランド](https://scala-waiwai-land.github.io/)は、現状唯一の、日本語でScalaについてわいわい話せるコミュニティとなっています。**Scalaについて語ったり、わからないことを質問したりしたいという方は、ぜひ参加してみてください！**

以下、Scalaわいわい勉強会での発表スライドになります(Scalaの経験があり、『FP in Scala』の初版をめくったことがある人向けの内容になっています)。

@[speakerdeck](d7b36a1968f54e628d65e6dad6f172b5)
